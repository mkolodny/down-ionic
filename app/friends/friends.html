<ion-view id="friends" view-title="My Friends">
  <ion-nav-buttons side="secondary">
    <button class="button button-clear icon" ng-click="friends.addFriends()"
            ontouchstart
            ><i class="fa fa-plus fa-lg"></i></button>
  </ion-nav-buttons>
  <ion-content>
    <ion-list class="list-avatar">
      <ion-item collection-repeat="item in friends.items"
                ng-class="{'item-divider': item.isDivider, 'item-avatar': !item.isDivider, 'item-icon-right': !item.isDivider, last: $last}"
                item-height="item.isDivider ? '35px' : '71px'">
        <!-- Divider -->
        <div ng-if="item.isDivider">
          {{item.title}}
        </div>

        <!-- User -->
        <div ng-if="item.friend && item.friend.username">
          <img class="item-image" ng-src="{{item.friend.imageUrl}}">
          <h2>{{item.friend.name}}</h2>
          <p>{{item.friend.username}}</p>
        </div>

        <!-- User Added Via SMS (no username, no picture) -->
        <div ng-if="item.friend && !item.friend.username">
          <span class="contact-image item-image">
            {{friends.getInitials(item.friend.name)}}
          </span>
          <h2>{{item.friend.name}}</h2>
          <p>Added Via SMS</p>
        </div>
      </ion-item>
    <ion-list>
  </ion-content>
</ion-view>
